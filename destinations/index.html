<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">

    <link rel="icon" type="image/png" href="/images/jz.png">

    <title>Julia's Blog</title>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.1/css/all.css">

    <!-- Bootstrap core CSS -->
    <link href="/static/css/bootstrap.min.css" rel="stylesheet">

    <!-- Lightbox -->
    <link href="/static/css/lightbox.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="/static/css/style.css" rel="stylesheet">

</head>


    <!--Navigation-->
    <header>

        <!-- Navbar -->
        <nav>
    <div class="container">
        <div class="row">
            <div class="col-md-5 title">
                <h1><a href="/index.html">julia's blog</a></h1>
            </div>
            <div class="col-md-7 links align-middle">
                <a href="/index.html">home</a>
                <a href="/about/">about</a>
                <a href="/destinations/">destinations</a>
                <a href="/posts/category/Travel/">travel</a>
                <a href="/posts/category/Food/">food</a>
                <a href="/posts/all/">list</a>
            </div>
        </div>
    </div>

</nav>
        <!-- /.Navbar -->

    </header>
    <!-- /.Navigation -->


<body>

    

    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.3/d3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/topojson/3.0.0/topojson.min.js"></script>
    <script src="/static/js/datamaps.world.hires.min.js"></script>


    <div class="container">
    <!--Main listing-->
    <div class="row col-lg-10 ml-auto mr-auto">

        <div id="zoom-buttons" class="row justify-content-center mb-1 mr-auto ml-auto">
            <button type="button" class="btn btn-light mr-2 mb-2" id="world-zoom">World</button>
            <button type="button" class="btn btn-light mr-2 mb-2" id="europe-zoom">Europe</button>
            <button type="button" class="btn btn-light mr-2 mb-2" id="na-zoom">North America</button>
            <button type="button" class="btn btn-light mr-2 mb-2" id="sa-zoom">South America</button>
            <button type="button" class="btn btn-light mr-2 mb-2" id="africa-zoom">Africa</button>
            <button type="button" class="btn btn-light mr-2 mb-2" id="asia-zoom">Asia</button>
            <button type="button" class="btn btn-light mb-2" id="oceania-zoom">Oceania</button>
        </div>
        <div id="map-container" class="mb-3" style="width:100%;">
          <div id="travel-map" style="position: relative; width:100%; height:auto; top: 50%; left: 50%; transform: translate(-50%, -50%);"></div>
        </div>

        <div class="row">
            
                <div class="col-md-4 mb-4 ml-auto mr-auto pl-2 pr-2">
                <h3>Europe</h3>
                <ul>
                
                <li>
                    <strong><a href="/posts/country/Portugal/">Portugal</a>:</strong>
                    
                    <a href="/posts/country/Portugal/city/Faro/">Faro</a>, 
                    
                    <a href="/posts/country/Portugal/city/Lagos/">Lagos</a>, 
                    
                    <a href="/posts/country/Portugal/city/Porto/">Porto</a>, 
                    
                    <a href="/posts/country/Portugal/city/Lisbon/">Lisbon</a>, 
                    
                    <a href="/posts/country/Portugal/city/Sintra/">Sintra</a>
                    
                </li>
                
                <li>
                    <strong><a href="/posts/country/Spain/">Spain</a>:</strong>
                    
                    <a href="/posts/country/Spain/city/Seville/">Seville</a>, 
                    
                    <a href="/posts/country/Spain/city/Granada/">Granada</a>
                    
                </li>
                
                <li>
                    <strong><a href="/posts/country/Italy/">Italy</a>:</strong>
                    
                    <a href="/posts/country/Italy/city/Sorrento/">Sorrento</a>, 
                    
                    <a href="/posts/country/Italy/city/Amalfi/">Amalfi</a>, 
                    
                    <a href="/posts/country/Italy/city/Pompeii/">Pompeii</a>, 
                    
                    <a href="/posts/country/Italy/city/Naples/">Naples</a>, 
                    
                    <a href="/posts/country/Italy/city/Florence/">Florence</a>, 
                    
                    <a href="/posts/country/Italy/city/Pisa/">Pisa</a>, 
                    
                    <a href="/posts/country/Italy/city/Milan/">Milan</a>, 
                    
                    <a href="/posts/country/Italy/city/Cinque%20Terre/">Cinque Terre</a>
                    
                </li>
                
                </ul>
                </div>
            
                <div class="col-md-4 mb-4 ml-auto mr-auto pl-2 pr-2">
                <h3>South America</h3>
                <ul>
                
                <li>
                    <strong><a href="/posts/country/Peru/">Peru</a>:</strong>
                    
                    <a href="/posts/country/Peru/city/Lima/">Lima</a>, 
                    
                    <a href="/posts/country/Peru/city/Ica/">Ica</a>, 
                    
                    <a href="/posts/country/Peru/city/Huacachina/">Huacachina</a>, 
                    
                    <a href="/posts/country/Peru/city/Paracas/">Paracas</a>, 
                    
                    <a href="/posts/country/Peru/city/Cusco/">Cusco</a>, 
                    
                    <a href="/posts/country/Peru/city/Ollantaytambo/">Ollantaytambo</a>
                    
                </li>
                
                </ul>
                </div>
            
        </div>
    </div>
    </div>

<script>

    var width = document.getElementById('travel-map').offsetWidth;
    var height = width * 0.72;

    function loadMap() {
        container = document.getElementById('map-container');
        map = document.getElementById('travel-map');
        container.style.height = height + "px";
        map.style.height = height + "px";
    }

    window.onload = loadMap();

    var map = new Datamap({
        element: document.getElementById('travel-map'),
        projection: 'mercator',
        setProjection: function(element) {
            var projection = d3.geo.mercator().translate([(width/2), (width/2)]).scale( width / 2 / Math.PI).rotate([-11,0]);
            d3.geo.mercator().center([10,60]).scale(100); var path = d3.geo.path().projection(projection);
            return {path: path, projection: projection};
        },
        fills: {
            defaultFill: "#e4e4e4",
            beenTo: "#708090"
        },
        geographyConfig: {
            highlightFillColor: "#4f5e7e",
            highlightBorderColor: "#4f5e7e",
            popupTemplate: function(geo, data) {
                //if (!data) return;
                return ['<div class="hoverinfo" style="cursor:pointer;">',geo.properties.name, '</div>'].join('');
            },
        },
        data: {"ESP": {"fillKey": "beenTo", "tag": "Spain"}, "ITA": {"fillKey": "beenTo", "tag": "Italy"}, "PER": {"fillKey": "beenTo", "tag": "Peru"}, "PRT": {"fillKey": "beenTo", "tag": "Portugal"}},
        done: function(datamap) {
           // datamap.svg.call(d3.behavior.zoom().on("zoom", redraw));
           // nice zoom example https://bl.ocks.org/mbostock/9656675
           // TODO: make map resizeable
           // TODO: zoom in and out

           function redraw() {
                datamap.svg.selectAll("g").attr("transform", "translate(" + d3.event.translate + ")scale(" + d3.event.scale + ")");
           };

           datamap.svg.selectAll('.datamaps-subunit').on('click', function(geo, data) {
                if (!datamap.options.data[geo.id]) return;
                var country_name = datamap.options.data[geo.id].tag;
                location.href = "../posts/country/" + country_name + '/';
            });

           // TODO: cursor pointer on hover. do this by overriding current hover function. add tooltip yourself.
           // https://bl.ocks.org/mbostock/1087001
           //datamap.svg.selectAll('.datamaps-subunit').on('mouseover', function(geo, data) {
           //    if (!datamap.options.data[geo.id]) return;
           //    d3.select(this).style("cursor", "pointer");
           //});

            var europe_x = width/2.5;
            var europe_y = width/4.5;
            var na_x = width/10;
            var na_y = width/15;
            var sa_x = width/7.5;
            var sa_y = width/2.2;
            var africa_x = width/2.6;
            var africa_y = width/2.7;
            var asia_x = width/1.8;
            var asia_y = width/3.5;
            var oceania_x = width/1.3;
            var oceania_y = width/2;

           document.getElementById("world-zoom").onclick = function clickEurope() {
                datamap.svg.selectAll("g").attr("transform", "scale(1)translate(0, 0)");
            };

           document.getElementById("europe-zoom").onclick = function clickEurope() {
                datamap.svg.selectAll("g").attr("transform", "scale(4)translate(-" + europe_x + ", -" + europe_y + ")");
            };

            document.getElementById("na-zoom").onclick = function clickEurope() {
                datamap.svg.selectAll("g").attr("transform", "scale(1.9)translate(" + na_x + ",-" + na_y + ")");
            };

            document.getElementById("sa-zoom").onclick = function clickEurope() {
                datamap.svg.selectAll("g").attr("transform", "scale(3)translate(-" + sa_x + ", -" + sa_y + ")");
            };

            document.getElementById("africa-zoom").onclick = function clickEurope() {
                datamap.svg.selectAll("g").attr("transform", "scale(3)translate(-" + africa_x + ", -" + africa_y + ")");
            };

            document.getElementById("asia-zoom").onclick = function clickEurope() {
                datamap.svg.selectAll("g").attr("transform", "scale(3)translate(-" + asia_x + ", -" + asia_y + ")");
            };

            document.getElementById("oceania-zoom").onclick = function clickEurope() {
                datamap.svg.selectAll("g").attr("transform", "scale(4)translate(-" + oceania_x + ", -" + oceania_y + ")");
            };


        },
    });



</script>




    <!--Footer-->
    <footer class="page-footer mt-5">

    <!--Footer Links-->
    <div class="container">

        <!-- Footer links -->
        <div class="row justify-content-center mt-3 pb-3">

            <div class="text-center">
                <a href="/index.html" class="dark-grey-text"><i class="fa fa-home" style="margin-right:5px;"></i></a>
                <a href="http://juliazhang.com" target="new" class="dark-grey-text"><i class="fa fa-globe" style="margin-right:5px;"></i></a>
                <a href="https://www.instagram.com/jzjourneys/" target="new" class="dark-grey-text"><i class="fab fa-instagram" style="margin-right:5px"></i></a>
                <a href="https://www.flickr.com/photos/157459585@N03/" target="new" class="dark-grey-text"><i class="fab fa-flickr" style="margin-right:5px"></i></a>
                <a href="https://500px.com/juliazhang95" target="new" class="dark-grey-text"><i class="fab fa-500px" style="margin-right:5px"></i></a>

                <br/>
                <i class="fa fa-heart"></i> Julia.
            </div>


        </div>
        <!-- Footer links -->

    </div>

</footer>
    <!--/.Footer-->

    <!-- SCRIPTS -->

    <!-- JQuery -->
    <script type="text/javascript" src="/static/js/jquery-3.2.1.min.js"></script>

    <!-- Bootstrap tooltips -->
    <script type="text/javascript" src="/static/js/popper.min.js"></script>

    <!-- Bootstrap core JavaScript -->
    <script type="text/javascript" src="/static/js/bootstrap.min.js"></script>

    <!-- Lightbox -->
    <script type="text/javascript" src="/static/js/lightbox.js"></script>

    

    

    <script type="text/javascript">
        /* WOW.js init */
        new WOW().init();
    </script>

</body>

</html>